编写shell脚本
============

有关于shell脚本的内容，可以参考 `菜鸟教程 <https://www.runoob.com/linux/linux-shell-basic-operators.html>`_。

特殊符号
-------

=============== =======================
 符号            描述
=============== =======================
 $               变量替换
 ${}             变量替换
 ${:}, ${::}     提取字符串
 ${/}, ${//}     字符串模式匹配（替换）
 ${#}, ${##}     字符串模式匹配向左截断
 ${%}, ${%%}     字符串模式匹配向右截断
 ``              命令替换
 $()             命令替换
=============== =======================

.. code-block:: shell

    var = "/dir1/dir2/my.file.txt"
    $var             # /dir1/dir2/my.file.txt
    ${var}           # 同上
    ${var:1:3}       # di
    ${var:1}         # dir/dir/my.file.txt
    ${var:-2}        # xt
    ${var/dir/path}  # /path1/dir2/my.file.txt, 替换第一个
    ${var//dir/path} # /path1/path2/my.file.txt，替换全部
    ${var#*/}        # dir0/dir2/dir3/my.file.txt, 删掉左数第一个'/'及其左边的字符串
    ${var##*/}       # my.file.txt, 删掉左数最后一个'/'及其左边的字符串
    ${var%/*}        # /dir1/dir2/dir3, 删掉右数第一个'/'及其右边的字符串
    ${var%%/*}       # （空值），拿掉右数最后一个'/'及其右边的字符串

.. code-block:: shell

    HOME = $(cd `dirname $0`; pwd) # 本执行文件所在的目录路径保存为HOME

更多内容查看非官方的 `shell特殊字符大全 <https://blog.csdn.net/K346K346/article/details/51819236>`_。

判断表达式
----------

文件比较
''''''''

======= ===================
 符号    含义
======= ===================
 -e      文件是否参在
 -d      是否为目录
 -f      是否为常规文件
 -r      是否可读
 -w      是否可写
 -x      是否可执行
 -L      是否为符号链接
======= ===================

字符串比较
''''''''''

========== ====================
 符号       含义
========== ====================
 -z         长度为零为真
 -n         长度非零为真
 s1 = s2      相同为真
 s1! = s2     不同为真
========== ====================

算数比较
''''''''

========== ====================
 符号       含义
========== ====================
 -eq        相等为真
 -ne        不等为真
 -lt        小于为真
 -le        小于等于为真
 -gt        大于为真
 -ge        大于等于为真
========== ====================
